{
    "collab_server" : "",
    "contents" : "#\n# This is the user-interface definition of a Shiny web application. You can\n# run the application by clicking 'Run App' above.\n#\n# Find out more about building applications with Shiny here:\n# \n#    http://shiny.rstudio.com/\n#\n\nlibrary(shiny)\nlibrary(shinyjs)\nlibrary(shinythemes)\nlibrary(shinydashboard)\nlibrary(shinyBS)\n\nlibrary(Rcampdf) # PDF tools\nlibrary(xlsx) # Write to excel\nlibrary(readxl) # Read from excel\nlibrary(tm) # Text Mining\nlibrary(pdftools) # Text Extraction\nlibrary(SnowballC) # Stemming\nlibrary(wordcloud) # Word Cloud\nlibrary(stringr) # Count substring in string\nlibrary(textcat) # Detect language of text\nlibrary(rhandsontable) # Interactive tables\nlibrary(plotly) # Interactive plots\n\noptions(shiny.maxRequestSize = 800*1024^2)\n\ndashboardPage(title=\"Sustainalize\", \n              \n              dashboardHeader(\n                titleWidth = 350,\n                title = div(img(src=\"sustainalize.png\", height = 40),img(src=\"uu.png\", height = 40)),\n                dropdownMenuOutput(\"messageMenu\")\n              ),\n              dashboardSidebar(\n                width = 350,\n                br(),\n                h3(\"Input\", align = \"center\"),\n                textInput('title', 'Title',placeholder = \"Give a title for the analysis...\"),\n                fileInput('pdfs', 'Upload document(s) as PDF or Zip', multiple = 'TRUE', accept = c('application/x-rar-compressed, application/octet-stream', 'application/zip, application/octet-stream', 'application/pdf')),\n                fileInput('longlists', 'Upload longlist(s) as Excel', multiple = 'TRUE', accept = c('application/vnd.ms-excel', 'application/x-excel', 'application/x-msexcel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')),\n                radioButtons(\"scoring\", \"Scoring scheme\",\n                             c(\"Count\" = \"1\",\n                               \"Frequency\" = \"2\",\n                               \"Relative\" = \"3\",\n                               \"Weighted\" = \"4\"), selected = 3, inline=T),\n                conditionalPanel(\n                  id = \"threshold\",\n                  condition = \"input.scoring == 3\",\n                  numericInput(\"threshold\", \"Threshold:\", min = 0, max = 10, value = 0.05, step = 0.01)\n                ),\n                tableOutput(\"table.pdfs\"),\n                tableOutput(\"table.longlists\")\n              ),\n              dashboardBody(\n                useShinyjs(),\n                tags$head(tags$link(rel = \"shortcut icon\", href = \"favicon.ico\")),\n                tags$head(tags$style(HTML('\n                  .skin-blue .main-header .logo {\n                    background-color: white;\n                  }\n                  .skin-blue .main-header .logo:hover {\n                    background-color: white;\n                  }\n                  .skin-blue .main-header .navbar {\n                    background-color: white;\n                  }\n                  .skin-blue .wrapper .main-sidebar.shiny-bound-input{\n                    background-color: #222d32;\n                  }\n                  .skin-blue .wrapper {\n                    background-color: white;\n                  }\n                  .skin-blue .main-header .navbar .sidebar-toggle {\n                    color: #222d32;s\n                    border-right: 1px solid #eee;\n                    border-left: 1px solid #eee;\n                    margin-left: -1px;\n                  }\n                  .skin-blue .main-header .navbar .sidebar-toggle:hover {\n                    color: white;\n                    background-color: #222d32;\n                  }\n                  .main-sidebar .sidebar .table tbody tr {\n                    font-style: italic;\n                  }\n                  .main-sidebar .sidebar .table tbody tr:hover {\n                    background-color: #384246;\n                  }\n                  .main-sidebar .shiny-input-container {\n                    width: 100%;\n                  }\n                  .btn.btn-default.blue.action-button.shiny-bound-input {\n                    margin: auto;\n                    background-color: #3c8dbc;\n                    border-color: #367fa9;\n                    border-radius: 3px;\n                    -webkit-box-shadow: none;\n                    box-shadow: none;\n                    border: 1px solid transparent;\n                    color: #fff;\n                  }\n                  .btn.btn-default.action-button.blue.shiny-bound-input:hover{\n                    background-color: #367ea9;\n                  }\n                  .btn.btn-default.action-button.blue.shiny-bound-input:active{\n                    background-color: #245470;\n                  }\n                  .btn.btn-default.action-button.shinyjs-disabled.shiny-bound-input.disabled, .btn.btn-default.shiny-download-link.btn-success.shinyjs-disabled.shiny-bound-output.disabled {\n                    background-color: #832a2a;\n                    border: 1px solid transparent;\n                  }\n                  .btn.btn-default.shiny-download-link.btn-success.shinyjs-disabled.shiny-bound-output.disabled {\n                    pointer-events: none;\n                  }\n                  .btn-success {\n                    color: white;\n                  }\n                  .btn {\n                    white-space: normal;\n                  }\n                  a.btn.disabled{\n                    pointer-events: visible;\n                  }\n                  .content {\n                    padding: 0px;\n                  }\n                  .content-wrapper {\n                    padding-bottom: 1px;\n                    background-color: #f7f7f7;\n                  }\n                  .nav-tabs-custom, .nav-tabs-custom>.tab-content, .nav-tabs-custom>.nav-tabs>li.active>a:hover, .nav-tabs-custom>.nav-tabs>li.active:hover {\n                    background-color: #f7f7f7;\n                    box-shadow: none;\n                  }\n                  .nav-tabs-custom>.nav-tabs {\n                    border-color: #222D32;\n                    background-color: #c9cccd;\n                  }\n                  .nav-tabs-custom>.nav-tabs>li.active>a {\n                    border-left-color: #222D32;\n                    border-right-color: #222D32;\n                    background-color: #f7f7f7;\n                    pointer-events:none;\n                  }\n                  .nav-tabs-custom>.nav-tabs>li.active>a, .nav-tabs-custom>.nav-tabs>li>a {\n                    color: #222d32;\n                  }\n                  .nav-tabs-custom>.nav-tabs>li>a:hover {\n                    color: #307096;\n                  }\n                  h1 {\n                    color: #3c8dbc;\n                  }\n                  .control-label {\n                    font-weight: normal;\n                  }\n                  .missing {\n                    color: #832a2a;\n                    opacity: .65;\n                  }\n                  .box-primary {\n                    background-color: white;\n                    box-shadow: 1px 4px 6px 0 rgba(0,0,0,.15);\n                  }\n                  .box-warning {\n                    background-color: white;\n                  }\n                  .table-striped>tbody>tr:hover {\n                    background-color: #222d32;\n                    color: white;\n                  }\n                  .well {\n                    font-size: 30px;\n                    margin-top: 30px;\n                    margin-bottom: 50px;\n                  }\n                  .shiny-plot-output {\n                    margin-bottom: 20px;\n                  }\n                  .col-sm-12 .box.box-primary {\n                      padding-left: 15px;\n                      padding-right: 15px;\n                  }\n                  .tab-pane:nth-child(2), .tab-pane:nth-child(3)  {\n                      padding-left: 15px;\n                      padding-right: 15px;\n                  }\n                  .box-body > .col-sm-12 {\n                    padding: 0px;\n                  }\n                  .tab-pane:nth-child(2) .box-body, .tab-pane:nth-child(3) .box-body {\n                    padding-left: 25px;\n                    padding-right: 25px;\n                  }\n                  .nav-tabs-custom > .tab-content {\n                    padding-top: 5px;\n                  }\n                  .handsontable {\n                      white-space: normal!important;\n                  }\n                  #tdm {\n                    padding: 0;\n                  }\n                  .nav-tabs-custom>.nav-tabs>li.active {\n                    pointer-events:none;\n                  }\n                  .not-allowed {\n                    cursor: not-allowed;\n                  }\n                  .control-label {\n                    font-weight: bold;\n                  }\n                  #threshold div {\n                    padding-top: 0px;\n                    margin-top: -5px;\n                    padding-bottom: 10px;\n                  }\n                  .skin-blue, .skin-blue .wrapper {\n                    background-color: #f7f7f7;\n                  }\n                  #dummy img {\n                    width: 100%;\n                  }\n                  @media (min-width: 767px){\n                    .tab-pane:nth-child(1) .row .col-sm-6:nth-child(2) {\n                      padding-right: 0px;\n                    }\n                    .tab-pane:nth-child(1) .row .col-sm-6:nth-child(3) {\n                      padding-left: 0px;\n                    }\n                  }\n                  @media (max-width: 767px){\n                    .main-header .navbar.navbar-static-top {\n                      margin-top: -50PX;\n                      background-color: transparent;\n                    }\n                  }\n                  '))),\n                tabBox(\n                  id = \"tabset\", width = \"100%\",\n                  tabPanel(\"Word Clouds\", \n                           fluidRow(\n                             br(),\n                             column(width = 6, align = \"center\",\n                                    box(width = 12, \n                                        title = \"PDF Word Cloud\", status = \"primary\",\n                                        align = \"center\",\n                                        h1(span(shiny::icon(\"file-pdf-o\"), id = \"pdf1\", class = \"missing\")),\n                                        disabled(\n                                          actionButton(\"wordCloudButtonPDF\", \"Create PDF Word Cloud\", icon(\"cloud\"), status = \"primary\", class=\"blue\")\n                                        ),\n                                        br(),\n                                        br(),\n                                        div(span(shiny::icon(\"cloud\"), id=\"iconWordCloudPDFEmpty\"), hidden(span(shiny::icon(\"circle-o-notch\", class = \"fa-spin fa-fw\"), id=\"iconWordCloudPDFLoad\")), class = \"well well-sm\", id = \"placeholderWordCloudPDF\"),\n                                        hidden(\n                                          plotOutput(outputId = \"wordCloudPlotPDF\")\n                                        ),\n                                        box(width = 12,\n                                            title = \"Settings\", status = \"warning\", collapsible = TRUE, collapsed=TRUE,\n                                            sliderInput(inputId = \"wordCloudPDFNumber\",\n                                                        label = \"Number of words in cloud:\",\n                                                        min = 80, max = 150, value = 150, step = 1)\n                                        )\n                                    )\n                             ),\n                             column(width = 6, align = \"center\",\n                                    box(width = 12,\n                                        title = \"Longlist Word Cloud\", status = \"primary\",\n                                        align = \"center\",\n                                        h1(span(shiny::icon(\"file-pdf-o\"), id=\"pdf2\", class = \"missing\"), \" + \", span(shiny::icon(\"file-excel-o\"), id=\"excel1\", class = \"missing\")),\n                                        disabled(\n                                          actionButton(\"wordCloudButtonLonglist\", \"Create Longlist Word Cloud\", icon(\"cloud\"), status = \"primary\", class=\"blue\")\n                                        ),\n                                        br(),\n                                        br(),\n                                        div(span(shiny::icon(\"cloud\"), id = \"iconWordCloudLonglistEmpty\"), hidden(span(shiny::icon(\"circle-o-notch\", class = \"fa-spin fa-fw\"), id=\"iconWordCloudLonglistLoad\")), class = \"well well-sm\", id = \"placeholderWordCloudLonglist\"),\n                                        hidden(\n                                          plotOutput(outputId = \"wordCloudPlotLonglist\")\n                                        ),\n                                        box(width = 12,\n                                            title = \"Settings\", status = \"warning\", collapsible = TRUE, collapsed = TRUE,\n                                            sliderInput(inputId = \"wordCloudLonglistNumber\",\n                                                        label = \"Number of words in cloud:\",\n                                                        min = 30, max = 80, value = 55, step = 1)\n                                            \n                                        )\n                                    )\n                             )\n                           )\n                  ),\n                  tabPanel(\"Term Document Table\",\n                           fluidRow(\n                             br(),\n                             align = \"center\",\n                             box(width = 12,\n                                 title = \"Term Document Table\", status = \"primary\",\n                                 align = \"center\",\n                                 fluidRow(\n                                   column(width = 6,\n                                          align = \"center\",\n                                          h1(span(shiny::icon(\"file-pdf-o\"), id = \"pdf3\", class = \"missing\"), \" + \", span(shiny::icon(\"file-excel-o\"), id = \"excel2\", class = \"missing\")),\n                                          disabled(\n                                            actionButton(\"tdmButton\", \"Create Term Document Table\", icon(\"table\"), status = \"primary\", class=\"blue\")\n                                          )\n                                   ),\n                                   column(width = 6,\n                                          align = \"center\",\n                                          h1(span(shiny::icon(\"file-pdf-o\"), id = \"pdf4\", class = \"missing\"), \" + \", span(shiny::icon(\"file-excel-o\"), id = \"excel3\", class = \"missing\")),\n                                          div(class=\"not-allowed\", id=\"not-allowed\",\n                                              disabled(\n                                                downloadButton(\"tdmDownload\", \"Download Term Document Table\", class = \"btn-success\")\n                                              )\n                                          ),\n                                          br(),\n                                          hidden(\n                                            downloadButton(\"logDownload\", \"Download log\", class = \"btn-success\", icon=\"cloud\")\n                                          )\n                                   )\n                                 ),\n                                 fluidRow(\n                                   br(),\n                                   div(span(shiny::icon(\"table\"), id = \"iconTDMEmpty\"), hidden(span(shiny::icon(\"circle-o-notch\", class = \"fa-spin fa-fw\"), id=\"iconTDMLoad\")), class = \"well well-sm \", id = \"placeholderTDM\"),\n                                   hidden(\n                                     column(width = 12, id = \"tdm\",\n                                            title = \"Term Document Table\", status = \"primary\",\n                                            dataTableOutput(outputId = \"tdm\")\n                                     )\n                                   )\n                                 )\n                             )\n                           )\n                  ),\n                  tabPanel(\"Matrix\",\n                           fluidRow(\n                             br(),\n                             align = \"center\",\n                             box(width = 12,\n                                 title = \"Matrix\", status = \"primary\",\n                                 align = \"center\",\n                                 fluidRow(\n                                   h1(span(shiny::icon(\"file-pdf-o\"), id = \"pdf5\", class = \"missing\"), \" + \", span(shiny::icon(\"file-excel-o\"), id = \"excel4\", class = \"missing\")),\n                                   disabled(\n                                     actionButton(\"plotButton\", \"Create Matrix\", icon(\"line-chart\"), status = \"primary\", class=\"blue\")\n                                   ),\n                                   br(),\n                                   br(),\n                                   div(span(shiny::icon(\"line-chart\"), id = \"iconPlotEmpty\"), hidden(span(shiny::icon(\"circle-o-notch\", class = \"fa-spin fa-fw\"), id=\"iconPlotLoad\")), class = \"well well-sm\", id = \"placeholderPlot\"),\n                                   plotlyOutput(outputId = \"plot\", height = \"700px\", width = \"700px\"),\n                                   br(),\n                                   br()\n                                 ),\n                                 fluidRow(\n                                   hidden(\n                                     div(\n                                       id = \"scoreBox\",\n                                       box(width = 12,\n                                           title = \"Adjust scores\", status = \"warning\", collapsible = TRUE, collapsed = FALSE,\n                                           align = \"left\",\n                                           rHandsontableOutput(\"table.plot\", height=\"auto\")\n                                       )\n                                     )\n                                   )\n                                 )\n                             )\n                           )\n                  )\n                ),\n                \n                # Set tooltips\n                bsTooltip(id = \"pdf1\", title = \"PDF file(s) required\", placement = \"top\", trigger = \"hover\"),\n                bsTooltip(id = \"pdf2\", title = \"PDF file(s) required\", placement = \"top\", trigger = \"hover\"),\n                bsTooltip(id = \"pdf3\", title = \"PDF file(s) required\", placement = \"top\", trigger = \"hover\"),\n                bsTooltip(id = \"pdf4\", title = \"PDF file(s) required\", placement = \"top\", trigger = \"hover\"),\n                bsTooltip(id = \"pdf5\", title = \"PDF file(s) required\", placement = \"top\", trigger = \"hover\"),\n                bsTooltip(id = \"excel1\", title = \"Longlist file(s) required\", placement = \"top\", trigger = \"hover\"),\n                bsTooltip(id = \"excel2\", title = \"Longlist file(s) required\", placement = \"top\", trigger = \"hover\"),\n                bsTooltip(id = \"excel3\", title = \"Longlist file(s) required\", placement = \"top\", trigger = \"hover\"),\n                bsTooltip(id = \"excel4\", title = \"Longlist file(s) required\", placement = \"top\", trigger = \"hover\")\n              )\n)",
    "created" : 1502567865580.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "369191782",
    "id" : "DBB04A46",
    "lastKnownWriteTime" : 1511274371,
    "last_content_update" : 1511274371405,
    "path" : "~/sustainalize/ui.R",
    "project_path" : "ui.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}